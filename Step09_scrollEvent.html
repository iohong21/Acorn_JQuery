<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Step09_scrollEvent.html</title>
	<style>
		.spacer{
			height: 500px;
			background-color: #999;
			border: 1px solid green;
		}
		.console{
			position: fixed;
			width: 100%;
			top: 0;
			left: 0;
		}
		.console p{
			background-color: #000;
			color: #fff;
			font-size: 25px;
			padding: 10px;
		}
	</style>
</head>
<body>
	<div class="console">
		<p id="sTop"></p>
		<p id="wHeight"></p>
		<p id="dHeight"></p>
	</div>
	<div class="console">
		<!-- <p>테스트</p> -->
	</div>
	<div class="spacer"></div>
	<div class="spacer"></div>
	<div class="spacer"></div>
	<script src="js/jquery-3.3.1.js"></script>
	<script>
		// window 에 scroll 이벤트가 일어 났을때 실행할 함수 등록
		$(window).on("scroll", function(){
			console.log("scroll!");

			// 위쪽으로 스크롤된 길이 구하기
			var scrollTop = $(window).scrollTop();
			// window 의 높이
			var windowHeight = $(window).height();
			// document의 높이
			var documentHeight = $(document).height();

			$("#sTop").text("scrollTop:"+scrollTop);
			$("#wHeight").text("windowTop:"+windowHeight);
			$("#dHeight").text("documentTop:"+documentHeight);

			var isBottom = scrollTop + windowHeight == documentHeight;
			if(isBottom) {
				$("<div>추가된 div입니다</div>")
				.addClass("spacer")
				.appendTo("body")
				.hide().
				.fadeIn(1000);
			}

		});
	</script>
</body>
</html>